import {NetworkResourceResponse, IFactory, ImageConfig} from '../types'

const ARCH_JPEG = Buffer.from(
  `/9j/4AAQSkZJRgABAQAAAQABAAD/2wEEEAA1ADUANQA1ADkANQA8AEMAQwA8AFMAWgBQAFoAUwB7AHEAZwBnAHEAewC6AIUAjwCFAI8AhQC6ARsAsADOALAAsADOALABGwD6AS8A9gDmAPYBLwD6AcIBYQE5ATkBYQHCAgcBtAGdAbQCBwJ1AjMCMwJ1AxkC8QMZBAwEDAVwEQA1ADUANQA1ADkANQA8AEMAQwA8AFMAWgBQAFoAUwB7AHEAZwBnAHEAewC6AIUAjwCFAI8AhQC6ARsAsADOALAAsADOALABGwD6AS8A9gDmAPYBLwD6AcIBYQE5ATkBYQHCAgcBtAGdAbQCBwJ1AjMCMwJ1AxkC8QMZBAwEDAVw/8IAEQgAZABkAwEiAAIRAQMRAf/EABkAAAMBAQEAAAAAAAAAAAAAAAACAwEEBf/aAAgBAQAAAADvDDQwMHOOaO17Bg8eOLWynbgY/mhzNfeuoC+ZanZ50aW6nCfmX79OGNN7Wzlhd3Jc27VDnyiguWanMivXmAqXpLkodHMYPtB+PqVubW0V3aVjZRxqbm6tSZQUZBm//8QAFwEBAQEBAAAAAAAAAAAAAAAAAgEDAP/aAAgBAhAAAACiJ9wxR3vZjXKbcFTk2KyJvjWTNR3d0P8A/8QAGAEAAwEBAAAAAAAAAAAAAAAAAAIDAQT/2gAIAQMQAAAAym5MHurc+FWjbYFkWlJpVZ0chdUo289QDd//xAApEAACAgEDAgYBBQAAAAAAAAAAAQIRAxIhMRBRBBMgImFxMDJBUmKB/9oACAEBAAE/AOuxa7r8eabc9KlSXIo/Nj1W1Z775I5MipajHkk3TXrzZNCSXLNPtf0O4JSjdMWSL5YuH3RNRpc8mFKM+fW568jZVm2h3xQoSatJtEMi4kTVxImKVqm/TklphN9kQa2RVmHFrVy6ZvCPdwMc7STIPcjJwldEZxl6MyvFP6EuKZGLk0kRiopLrnwqL1xNOmVj1WLXs0iMtUU+uSc5Y5GP6IVDeh5nfBHLF/B5sTPNPExNSidtxXfIsksabH4mfZHnz/kiU3JCclwyWWR50jzWebIeWZGS0i3SaN+wvlEopXa6qI43CvS0tJjenYUkyMkzPFVqRZJKP7ibaQuCod5I0f3RoZodpULYiuSihboaptFXyaOyQlSJJXy7I3Y03uRu7u9h/Rrpmr4ZZFmRT1bPpZZLEpbpjhKPMT3ci13ZUu40+1m3Y2FFd2SUr4sSSGk0It2UmNLpYjL+n/ULoj//xAAeEQACAwACAwEAAAAAAAAAAAAAAQIQESAhEzFBYf/aAAgBAgEBPwAlPDyfgpp8JPEJjiLrGJ6tuZBVJEZONzIpZU1UH8MH2QfupDE8dYR6MGrUli4/R1//xAAgEQACAgICAgMAAAAAAAAAAAAAAQIRECEDIBMxQWGB/9oACAEDAQE/ACMLPH9j42ukVbGhSPdoap1njOR0qERdkoqWYIl72aIPEkfhFUci2sQEhxxZLZZF6zKLt9fjP//Z`,
  'base64',
)

export function createImage(
  config: ImageConfig,
  factory: IFactory,
): Omit<NetworkResourceResponse, 'link'> {
  return {
    config,
    headers: {'content-type': 'image/jpeg'},
    body: ARCH_JPEG,
  }
}

export function injectImageBytes(body: string, totalByteTarget: number): string {
  throw new Error('Image byte injection not yet supported')
}
